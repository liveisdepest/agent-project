二、MCP Server 与 Client 功能描述总表（完整版）
1️⃣ MCP Server 功能描述表
| MCP 名称                     | 所在目录                    | 类型   | 核心职责                | 输入          | 输出       | 是否参与决策 |
| -------------------------- | ----------------------- | ---- | ------------------- | ----------- | -------- | ------ |
| **Sensor MCP**             | `server/sensor`         | 感知   | 获取现场传感器数据（如土壤水分、温度） | 设备ID / 字段ID | 结构化传感器数据 | ❌ 否    |
| **Weather MCP**            | `server/weather`        | 感知   | 获取实时/预测天气信息         | 城市 / 坐标     | 天气状态数据   | ❌ 否    |
| **DuckDuckGo MCP**         | 外部 / server/search      | 知识检索 | 搜索作物生长环境与农艺知识       | 查询关键词       | 非结构化文本   | ❌ 否    |
| **Crop Knowledge MCP（可选）** | `server/crop_knowledge` | 知识服务 | 提供作物生育期、需水特性        | 作物名         | 作物知识结构   | ❌ 否    |
| **Decision MCP**           | `server/decision`       | 决策支持 | 基于状态数据进行灌溉决策推理      | 农业状态向量      | 决策对象     | ✅ 是    |
| **Irrigation MCP**         | `server/irrigation`     | 执行   | 执行灌溉控制指令            | 灌溉参数        | 执行状态     | ❌ 否    |
| **Filesystem MCP**         | `server/filesystem`     | 工具   | 存储日志、决策结果           | 文件路径 / 内容   | 成功/失败状态  | ❌ 否    |


2️⃣ Client（MCP Client / Agent）功能描述表
模块名称	所属阶段	功能描述	是否包含业务逻辑
User Interface	输入	接收用户自然语言请求	❌
Task Parser	预处理	从用户输入中解析作物、地块、任务意图	⚠️ 少量
Perception Orchestrator	感知	调度 Sensor / Weather / Search MCP	❌
Knowledge Extractor	感知	将搜索文本抽象为结构化作物知识	❌
Decision Orchestrator	决策	整合状态数据并调用 Decision MCP	❌
Decision Interpreter	决策	解释与展示决策结果	❌
Action Controller	执行	根据决策结果决定是否调用 Irrigation MCP	⚠️ 轻量
Result Presenter	输出	向用户展示最终建议与解释	❌
Logging Manager	支撑	记录感知数据、决策结果	❌
三、完整“功能 → 责任”对照（非常重要）
🔹 Client 负责的只有三件事

流程控制（谁先谁后）

数据整合（把 MCP 返回结果拼起来）

触发决策 / 执行

👉 Client 不直接提供领域能力

🔹 MCP Server 的唯一职责

“我能提供什么能力”

而不是：

“现在应该做什么”